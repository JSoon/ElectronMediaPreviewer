<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
  <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
  <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'"> -->
  <title>Hello World!</title>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      background-color: #eee;
    }

    .media-list {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
    }

    img,
    video {
      display: block;
      width: 25%;
      padding: 0 10px;
      object-fit: contain;
      cursor: pointer;
      transition: all .3s;
    }

    img:hover,
    video:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 10px rgba(0, 0, 0, .2);
    }
  </style>
</head>

<body>
  <div id="J_MediaList" class="media-list">
    <img class="media-item" src="" alt="">
    <img class="media-item" src="" alt="">
    <video class="media-item" src=""></video>
    <img class="media-item" src="" alt="">
    <img class="media-item" src="" alt="">
  </div>

  <script>
    const mediaList = [
      {
        type: 'IMG',
        url: 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.idol001.com%2Forigin%2F2018%2F10%2F19%2Ff1b6976a745b8423118eb2ccda64393c1539940313.jpg&refer=http%3A%2F%2Fimg.idol001.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1634523207&t=4314c25c60b5c92dc9f45f206cae8bfa'
      },
      {
        type: 'IMG',
        url: 'http://scontent.fhkg3-1.fna.fbcdn.net/v/t1.6435-9/239606956_326270255952891_8917074287921648688_n.jpg?_nc_cat=107&ccb=1-5&_nc_sid=79524b&_nc_ohc=vbtICsrvQFMAX8-x88W&tn=FvWfqy7uISlIscQs&_nc_ht=scontent.fhkg3-1.fna&oh=804b3221405ccfe3671eb08857064aad&oe=6158389E'
      },
      {
        type: 'VIDEO',
        url: 'http://www.w3schools.com/html/mov_bbb.mp4'
      },
      {
        type: 'IMG',
        url: 'http://scontent.fhkg3-2.fna.fbcdn.net/v/l/t1.6435-9/193949077_537575977662003_2620621848631737894_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=19026a&_nc_ohc=rJrVU-fzk2sAX9hClpT&_nc_ht=scontent.fhkg3-2.fna&oh=58e196e90fa6e71428d909223a36b21e&oe=61557260'
      },
      {
        type: 'IMG',
        url: 'http://scontent.fhkg3-2.fna.fbcdn.net/v/t1.6435-9/186558359_157741236296564_3635014824814832748_n.jpg?_nc_cat=101&ccb=1-5&_nc_sid=8bfeb9&_nc_ohc=FPr-ESoQgmIAX9yHVyG&_nc_ht=scontent.fhkg3-2.fna&oh=6733910e6ab731852fbab384f3f00d7d&oe=61588553'
      },
    ]

    document.querySelectorAll('.media-item').forEach((ele, index) => {
      ele.setAttribute('src', mediaList[index].url)

      ele.addEventListener('click', e => {
        window.electron.ipcRenderer.send(window.electron.IPC_CHANNELS.MEDIA_PREVIEW, {
          index,
          // 当前预览项
          media: mediaList[index],
          // 预览列表
          mediaList
        })
      })
    })
  </script>
</body>

</html>